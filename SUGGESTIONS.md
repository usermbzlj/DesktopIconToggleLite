# 改进建议完成情况

- [x] 引入日志抽象：在 `Program.cs` 中新增 `Log` 静态类，负责将运行信息写入 `%APPDATA%/a6.DesktopIconToggleLite/log.txt`，并在热键注册、钩子操作、更新检查等关键路径记录上下文。
- [x] 优化配置加载：`Config.Load` 遇到异常时会写入日志并通过托盘提示用户，同时提供默认配置回退以保证应用可继续运行。
- [x] 自动检测更新：配置新增 `CheckUpdates` 选项，可在启动或手动触发时异步请求 GitHub Releases，并在托盘菜单及气泡中展示新版本信息。
- [x] 全屏检测策略：配置新增 `FullscreenTolerance`，允许自定义容差以兼容不同分辨率与缩放比例的全屏窗口。
- [x] 热键冲突处理：当注册失败时提供热键捕获对话框，引导用户选择新的组合键，并把详细错误写入日志。
- [x] 钩子资源管理：退出流程会停止定时器并带有重试地释放鼠标钩子，防止系统残留。
- [x] 自启动状态同步：启动时会读取注册表真实状态并更新配置文件及托盘菜单，保证 UI 展示与实际一致。
